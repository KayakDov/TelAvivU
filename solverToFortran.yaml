library: poisson_gpu
language: c++

###############################################################################
#  TYPED TEMPLATE INSTANTIATIONS
###############################################################################
format:
  CXX_T_FLOAT: float
  CXX_T_DOUBLE: double

###############################################################################
# 1. BiCGSTAB<T>  — static solve
###############################################################################
classes:
  BiCGSTAB:
    declaration: |
      template <typename T>
      class BiCGSTAB {
      public:
          static void solve(
              const T *Adata,
              const T *b,
              T *x,
              size_t N);
      };

    template_parameters:
      - T

    functions:
      solve:
        return: void
        arguments:
          - Adata:   { ctype: const T *, intent: in }
          - b:       { ctype: const T *, intent: in }
          - x:       { ctype: T *, intent: inout }
          - N:       { ctype: size_t, intent: in }

    instantiations:
      float:
        CXX_T: float
      double:
        CXX_T: double

###############################################################################
# 2. EigenDecompSolver<T> — SECOND CONSTRUCTOR ONLY
###############################################################################
  EigenDecompSolver:
    declaration: |
      template <typename T>
      class EigenDecompSolver {
      public:
        EigenDecompSolver(
          const T *frontBack, size_t fbLd,
          const T *leftRight, size_t lrLd,
          const T *topBottom, size_t tbLd,
          T *f, size_t fStride,
          T *x, size_t xStride,
          size_t height, size_t width, size_t depth,
          T *rowsXRows, size_t rowsXRowsLd,
          T *colsXCols, size_t colsXColsLd,
          T *depthsXDepths, size_t depthsXDepthsLd,
          T *maxDimX3, size_t maxDimX3Ld);
      };

    template_parameters:
      - T

    constructors:
      fortran_constructor:
        arguments:
          - frontBack:        { ctype: const T *, intent: in }
          - fbLd:             { ctype: size_t, intent: in }
          - leftRight:        { ctype: const T *, intent: in }
          - lrLd:             { ctype: size_t, intent: in }
          - topBottom:        { ctype: const T *, intent: in }
          - tbLd:             { ctype: size_t, intent: in }

          - f:                { ctype: T *, intent: inout }
          - fStride:          { ctype: size_t, intent: in }
          - x:                { ctype: T *, intent: inout }
          - xStride:          { ctype: size_t, intent: in }

          - height:           { ctype: size_t, intent: in }
          - width:            { ctype: size_t, intent: in }
          - depth:            { ctype: size_t, intent: in }

          - rowsXRows:        { ctype: T *, intent: inout }
          - rowsXRowsLd:      { ctype: size_t, intent: in }
          - colsXCols:        { ctype: T *, intent: inout }
          - colsXColsLd:      { ctype: size_t, intent: in }
          - depthsXDepths:    { ctype: T *, intent: inout }
          - depthsXDepthsLd:  { ctype: size_t, intent: in }
          - maxDimX3:         { ctype: T *, intent: inout }
          - maxDimX3Ld:       { ctype: size_t, intent: in }

    instantiations:
      float:
        CXX_T: float
      double:
        CXX_T: double

